<html ng-app="myApp" xmlns="http://www.w3.org/1999/html">

<head>
    <link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css"/>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
    <script src= "http://ajax.googleapis.com/ajax/libs/angularjs/1.2.16/angular.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js"></script>
    <script th:src="@{~/fba.js}"></script>
    <title>Hello Facebook</title>
</head>
        <body>
            <div class="page-header" style="background-color: #15317E">
                <h2 align="center" style="color:#FFFFFF">Albums</h2>
            </div>



            <div ng-controller="myCtrl">
                <p>
                {{firstName}}You are now connected to your Facebook account.
                <button ng-click="getAlbums()" style="color: #15317E" class="btn btn-default">Click here</button> to see some entries from your Facebook home feed.
                    <br/>
                    <div class="panel panel-primary">
                        <!-- Default panel contents -->
                        <div class="panel-heading">List of albums</div>

                        <div class="panel-body">
                            <p>Click on album ID to start the backup.</p>
                        </div>

                        <!-- Table -->
                        <table class="table">
                            <tr>
                                <th>Album Name</th>
                                <th>Album ID</th>
                                <th>Show Albums</th>
                            </tr>
                            <tr ng-repeat="album in albums">
                                <td>{{album.name}}</td>
                                <td><button ng-click="backupAlbum(album.id)" style="color: #15317E" class="btn btn-link">{{album.id}}</button></td>
                                <td><button ng-click="toggleModal(album.id)" style="color: #15317E" class="btn btn-default">Show Details</button></td>
                                <modal title="Album details" visible="showModal">
                                    <form role="form">
                                        <div class="form-group">
                                            <label>Album Name: </label>
                                            <p>{{albums.name}}</p>
                                            <label>Description: </label>
                                            <p>{{albums.description}}</p>
                                            <label>Number of photos: </label>
                                            <p>{{albums.count}}</p>
                                            <label>Privacy: </label>
                                            <p>{{albums.privacy}}</p>
                                            <label>Type: </label>
                                            <p>{{albums.type}}</p>
                                            <label>Create Time: </label>
                                            <p>{{albums.createdTime}}</p>
                                            <label>Update Time: </label>
                                            <p>{{albums.updatedTime}}</p>
                                            <label>Link: </label>
                                            <a href="{{albums.link}}" target="_blank">Go to album</a>
                                        </div>
                                    </form>
                                </modal>
                            </tr>

                        </table>
                    </div>
                <!--<img ng-src ="{{albums}}"/>-->
                    <br/>
                </p>
            </div>

        </body>
</html>